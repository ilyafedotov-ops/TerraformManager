// Generated by TerraformManager â€” Kubernetes PodSecurity Standards namespace labeling


provider "kubernetes" {
  host                   = var.kube_host
  token                  = var.kube_token
  cluster_ca_certificate = base64decode(var.kube_ca)
}

variable "kube_host" { description = "https://your-api-server:6443" }
variable "kube_token" { description = "Service account token" }
variable "kube_ca"    { description = "Base64-encoded cluster CA" }


resource "kubernetes_namespace" "apps" {
  metadata {
    name   = "apps"
    labels = {
      managed_by   = "TerraformManager"
      environment  = "prod"
      team         = "platform"
      "pod-security.kubernetes.io/enforce"         = "restricted"
      "pod-security.kubernetes.io/enforce-version" = "latest"
      "pod-security.kubernetes.io/audit"           = "baseline"
      "pod-security.kubernetes.io/warn"            = "baseline"
    }
  }
}

resource "kubernetes_namespace" "payments" {
  metadata {
    name   = "payments"
    labels = {
      managed_by   = "TerraformManager"
      environment  = "prod"
      team         = "payments"
      "pod-security.kubernetes.io/enforce"         = "restricted"
      "pod-security.kubernetes.io/enforce-version" = "latest"
      "pod-security.kubernetes.io/audit"           = "baseline"
      "pod-security.kubernetes.io/warn"            = "baseline"
    }
  }
}
