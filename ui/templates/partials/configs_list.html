{% if configs and configs|length > 0 %}
  <form
    class="space-y-4"
    hx-post="/ui/configs/delete-bulk"
    hx-target="#configs-list"
    hx-swap="innerHTML"
  >
    <div class="flex flex-wrap gap-3">
      <button
        type="submit"
        class="inline-flex items-center gap-2 rounded-lg bg-red-500 px-3 py-2 text-xs font-semibold text-white shadow transition hover:bg-red-400"
        hx-confirm="Delete selected configs?"
      >
        <i class="fas fa-trash-alt text-[11px]"></i>
        Delete Selected
      </button>
    </div>
    <div class="tm-table-wrapper">
      <table class="tm-table">
        <thead>
          <tr>
            <th>
              <input
                type="checkbox"
                class="h-4 w-4 rounded border-blueGray-300 text-blue-600 focus:ring-blue-500"
                onclick="document.querySelectorAll('input[name=config_name]').forEach(cb => cb.checked = this.checked)"
              />
            </th>
            <th>Name</th>
            <th>Kind</th>
            <th>Updated</th>
            <th>Size</th>
          </tr>
        </thead>
        <tbody>
          {% for c in configs %}
            <tr>
              <td>
                <input
                  type="checkbox"
                  name="config_name"
                  value="{{ c.name }}"
                  class="h-4 w-4 rounded border-blueGray-300 text-blue-600 focus:ring-blue-500"
                />
              </td>
              <td class="font-semibold text-blueGray-600">{{ c.name }}</td>
              <td class="text-sm text-blueGray-400">{{ c.kind }}</td>
              <td class="text-sm text-blueGray-400">{{ c.updated_at }}</td>
              <td class="text-sm text-blueGray-400">{{ c.size }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </form>
  <div class="mt-5 space-y-3">
    {% for c in configs %}
      <form
        class="flex items-center justify-between gap-4 rounded-2xl border border-blueGray-200 bg-blueGray-50 px-4 py-3 shadow-sm"
        hx-post="/ui/configs/delete"
        hx-target="#configs-list"
        hx-swap="innerHTML"
        hx-confirm="Delete this config?"
      >
        <div>
          <div class="text-sm font-semibold text-blueGray-600">{{ c.name }}</div>
          <div class="text-xs uppercase tracking-wide text-blueGray-400">{{ c.kind }}</div>
        </div>
        <input type="hidden" name="name" value="{{ c.name }}" />
        <button
          type="submit"
          class="inline-flex items-center gap-2 rounded-lg border border-red-200 px-3 py-1.5 text-xs font-semibold text-red-500 shadow-sm transition hover:bg-red-50"
        >
          <i class="fas fa-trash text-[10px]"></i>
          Delete
        </button>
      </form>
    {% endfor %}
  </div>
{% else %}
  <div class="rounded-2xl border border-dashed border-blueGray-200 bg-blueGray-50 px-6 py-6 text-sm text-blueGray-400">
    No configs saved yet.
  </div>
{% endif %}
