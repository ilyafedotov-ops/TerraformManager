{% extends "base.html" %}

{% block breadcrumbs %}
  <div class="text-xs font-semibold uppercase tracking-widest text-blueGray-400">
    <a class="hover:text-blue-500" href="/ui/dashboard">Home</a>
    <span class="px-2 text-blueGray-300">/</span>
    <span class="text-blue-500">Reports</span>
  </div>
{% endblock %}

{% block page_header %}
  <h1 class="text-3xl font-bold leading-tight">Reports</h1>
  <p class="mt-2 max-w-2xl text-sm font-medium text-blue-100">
    Browse saved findings, export them in bulk, and reopen the interactive viewer without leaving the page.
  </p>
{% endblock %}

{% block hero_actions %}
  <a
    href="/ui/scan"
    class="inline-flex items-center gap-2 rounded-xl bg-white/15 px-4 py-2 text-sm font-semibold text-white transition hover:bg-white/20"
  >
    <i class="fas fa-bolt text-xs"></i>
    Run a Scan
  </a>
{% endblock %}

{% block content %}
  {% set total_reports = items|default([], true)|length %}
  <section class="rounded-3xl border border-blueGray-200 bg-white p-6 shadow-xl">
    <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
      <div>
        <h2 class="text-lg font-semibold text-blueGray-700">Saved Reviews</h2>
        <p class="text-sm text-blueGray-400">Select reports to delete or export bundled artefacts.</p>
      </div>
      <div class="text-xs font-semibold uppercase tracking-widest text-blueGray-300">
        {{ total_reports }} total report{{ '' if total_reports == 1 else 's' }}
      </div>
    </div>
    <div id="reports-table" class="mt-6">
      {% include "partials/reports_table.html" %}
    </div>
  </section>
{% endblock %}

{% block page_actions %}
  <a
    href="/ui/scan"
    class="inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-500"
  >
    <i class="fas fa-bolt text-xs"></i>
    New Scan
  </a>
{% endblock %}
